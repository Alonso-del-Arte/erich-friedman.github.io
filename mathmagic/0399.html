<!doctype html public "-//IETF//DTD HTML//EN"><HTML><HEAD><TITLE>Math Magic</TITLE></HEAD><BODY background="formulas.gif"><font size=+1><CENTER><H1> Problem of the Month (March 1999)</H1></CENTER>An <b>average array</b> is a rectangular array of positive integers so that: each number (except for the smallest and largest) is the average of the numbers in horizontally and vertically adjacent cells.  To avoid trivialities, we require that not all the numbers are the same.  For example, here is a 2x3 average array:<p><center><table border=2 bgcolor="FFFFCF" cellpadding=5><tr><td>3<td>5<td>8</tr><tr><td>1<td>4<td>6</tr></font></table></center><p>We are interested in how small the numbers in an average array can be.  Specifically, what is the smallest possible value of the largest number in an average array of a given size?  What if all the numbers have to be different?  What if the average includes diagonally adjacent cells?  What about larger dimensional arrays?  <P><hr><p><center><h1>ANSWERS</h1></center>Let <b>C(m,n)</b> be the minimum possible largest element in an mxn average array.  We use a ''x'' subscript if the average includes diagonal cells, and we use a ''*'' superscript if all the cells must be different.<p>Clearly C(1,n)=C<sub>x</sub>(1,n)=C<sup>*</sup>(1,n)=C<sub>x</sub><sup>*</sup>(1,n)=n, as the array (1 2 3 . . . n ) works.<p>Joseph DeVincentis noticed that C<sub>x</sub><sup>*</sup>(2,n) is undefined for n&ge;2, as there are no such arrays.  Also, he showed that C<sub>x</sub>(2,n)=3: one such array is filled with 2's except for one column which contains a 1 and a 3.<p>Brendan Owen wrote a computer program to generate average arrays.  He generated all the data below.  <p>He showed that C<sub>x</sub>(n<sub>1</sub>, n<sub>2</sub>, . . . , 2)=3, and that C(n<sub>1</sub>, n<sub>2</sub>, . . .) and C<sub>x</sub>(n<sub>1</sub>, n<sub>2</sub>, . . .) always exist.  He also showed that C<sub>x</sub><sup>*</sup>(n<sub>1</sub>, n<sub>2</sub>, . . . , 2) doesn't exist.  The only other known values which don't appear to exist are C<sub>x</sub><sup>*</sup>( . . .,3,3,3).<p>Here are some answers for small arrays:<p><p><CENTER><H2>C(m,n): Repetitions Allowed, No Diagonals</H2></CENTER><center><TABLE BORDER bgcolor="FFFFCF" cellpadding=2><TR  bgcolor=lightgreen><th>m \ n<th>2<th>3<th>4<th>5<th>6<th>7<th>8</TR><tr align=right><th bgcolor=lightgreen align=center>2</th><td>3<td>4<td>8<td>12<td>19<td>42<td>98</TR><tr align=right><th bgcolor=lightgreen align=center>3</th><td>4<td>5<td>14<td>11<td>63<td>27<td>298</TR><tr align=right><th bgcolor=lightgreen align=center>4</th><td>8<td>14<td>11<td>50<td>2816<td>1632<td>15004</TR><tr align=right><th bgcolor=lightgreen align=center>5</th><td>12<td>11<td>50<td>37<td>1245<td>1159<td>39608</TR><tr align=right><th bgcolor=lightgreen align=center>6</th><td>19<td>63<td>2816<td>1245<td>143<td>70668<td>74283746</TR><tr align=right><th bgcolor=lightgreen align=center>7</th><td>42<td>27<td>1632<td>1159<td>70668<td>3853<td>4667448</TR><tr align=right><th bgcolor=lightgreen align=center>8</th><td>98<td>298<td>15004<td>39608<td>74283746<td>4667448<td>471247</TR><tr align=right><th bgcolor=lightgreen align=center>9</th><td>154<td>69<td>6937<td>7275<td>622677<td>216143<td>31057338</TR><tr align=right><th bgcolor=lightgreen align=center>10</th><td>107<td>1221<td>223244<td>54541<td>34716123<td>14658527<td>7988513801295</TR><tr align=right><th bgcolor=lightgreen align=center>11</th><td>572<td>179<td>198830<td>75291<td>4522574<td>40619575<td>58727863626</TR><tr align=right><th bgcolor=lightgreen align=center>12</th><td>934<td>6819<td>851928<td>1212200<td>82212839<td>14072629988<td>1157365463811298</TR><tr align=right><th bgcolor=lightgreen align=center>13</th><td>2132<td>467<td>438744<td>607435<td>1010388604<td>115245795<td>&#160;</TR><tr align=right><th bgcolor=lightgreen align=center>14</th><td>539<td>21893<td>136296090<td>181087528<td>34860663827<td>21481359503<td>&#160;</TR><tr align=right><th bgcolor=lightgreen align=center>15</th><td>3825<td>1221<td>2220533<td>1225261<td>2227981245<td>&#160;<td>&#160;</TR></TABLE></center><P><p><CENTER><H2>C<sup>*</sup>(m,n): Repetitions Not Allowed, No Diagonals</H2></CENTER><center><TABLE BORDER bgcolor="FFFFCF" cellpadding=2><TR  bgcolor=lightgreen><th>m \ n<th>2<th>3<th>4<th>5<th>6<th>7</TR><tr align=right><th bgcolor=lightgreen align=center>2</th><td>4<td>8<td>8<td>26<td>19<td>94</TR><tr align=right><th bgcolor=lightgreen align=center>3</th><td>8<td>30<td>74<td>269<td>356<td>3309</TR><tr align=right><th bgcolor=lightgreen align=center>4</th><td>8<td>74<td>62<td>960<td>2816<td>118668</TR><tr align=right><th bgcolor=lightgreen align=center>5</th><td>26<td>269<td>960<td>417<td>5502<td>4276501</TR><tr align=right><th bgcolor=lightgreen align=center>6</th><td>19<td>356<td>2816<td>5502<td>6085<td>989568</TR><tr align=right><th bgcolor=lightgreen align=center>7</th><td>94<td>3309<td>118668<td>4276501<td>989568<td>206991</TR><tr align=right><th bgcolor=lightgreen align=center>8</th><td>98<td>11178<td>15004<td>50446504<td>74283746<td>236701922202</TR><tr align=right><th bgcolor=lightgreen align=center>9</th><td>348<td>10351<td>3399418<td>92694437<td>547462302<td>474044608301</TR><tr align=right><th bgcolor=lightgreen align=center>10</th><td>107<td>28028<td>223244<td>42601245<td>34716123<td>27317507372</TR><tr align=right><th bgcolor=lightgreen align=center>11</th><td>1296<td>519141<td>201464714<td>76429856053<td>19876549906<td>11912444546191029</TR><tr align=right><th bgcolor=lightgreen align=center>12</th><td>934<td>56511<td>851928<td>3914071518<td>82212839<td>36025114345204896</TR><tr align=right><th bgcolor=lightgreen align=center>13</th><td>4834<td>6511653<td>1659128426<td>78122151013<td>75644545049024<td>1857217354169779821</TR><tr align=right><th bgcolor=lightgreen align=center>14</th><td>539<td>4798118<td>136296090<td>981143881088<td>34860663827<td>334722240784573</TR><tr align=right><th bgcolor=lightgreen align=center>15</th><td>18038<td>3319643<td>2866207958<td>176981282511<td>126494851419642<td>&#160;</TR></TABLE></center><P><p><CENTER><H2>C<sub>x</sub>(m,n): Repetitions Allowed, Diagonals</H2></CENTER><center><TABLE BORDER bgcolor="FFFFCF" cellpadding=2><TR  bgcolor=lightgreen><th>m \ n<th>3<th>4<th>5<th>6</TR><tr align=right><th bgcolor=lightgreen align=center>3</th><td>7<td>64<td>29<td>643</TR><tr align=right><th bgcolor=lightgreen align=center>4</th><td>64<td>115<td>1247<td>14774206</TR><tr align=right><th bgcolor=lightgreen align=center>5</th><td>29<td>1247<td>261<td>89972</TR><tr align=right><th bgcolor=lightgreen align=center>6</th><td>643<td>14774206<td>89972<td>52593</TR><tr align=right><th bgcolor=lightgreen align=center>7</th><td>135<td>96672<td>5511<td>98206320</TR><tr align=right><th bgcolor=lightgreen align=center>8</th><td>3832<td>136644951<td>608992<td>64066638865904</TR><tr align=right><th bgcolor=lightgreen align=center>9</th><td>643<td>3740452<td>58631<td>26102324864</TR><tr align=right><th bgcolor=lightgreen align=center>10</th><td>136690<td>6347782194286<td>418808411<td>141881269264428327946</TR><tr align=right><th bgcolor=lightgreen align=center>11</th><td>3077<td>72339267<td>312221<td>1721307821730</TR><tr align=right><th bgcolor=lightgreen align=center>12</th><td>3242093<td>4159327027119583<td>278668008656<td>11208236199692349184890772</TR><tr align=right><th bgcolor=lightgreen align=center>13</th><td>14739<td>5595833084<td>6651971<td>1812108279351038</TR><tr align=right><th bgcolor=lightgreen align=center>14</th><td>26058442<td>58866692131428799<td>1886445877264<td>281486448978113626690459320</TR><tr align=right><th bgcolor=lightgreen align=center>15</th><td>70615<td>216432682702<td>70864611<td>476607238512548682</TR></TABLE></center><P><p><CENTER><H2>C<sub>x</sub><sup>*</sup>(m,n): Repetitions Not Allowed, Diagonals</H2></CENTER><center><TABLE BORDER bgcolor="FFFFCF" cellpadding=2><TR  bgcolor=lightgreen><th>m \ n<th>3<th>4<th>5</TR><tr align=right><th bgcolor=lightgreen align=center>3</th><td>615<td>1250<td>3087</TR><tr align=right><th bgcolor=lightgreen align=center>4</th><td>1250<td>5754<td>353073</TR><tr align=right><th bgcolor=lightgreen align=center>5</th><td>3087<td>353073<td>2132027</TR><tr align=right><th bgcolor=lightgreen align=center>6</th><td>85702<td>14774206<td>268488939</TR><tr align=right><th bgcolor=lightgreen align=center>7</th><td>832207<td>461490870<td>1753185101</TR><tr align=right><th bgcolor=lightgreen align=center>8</th><td>964411<td>136644951<td>1972426351</TR><tr align=right><th bgcolor=lightgreen align=center>9</th><td>75516831<td>302307431550<td>3443919804825</TR><tr align=right><th bgcolor=lightgreen align=center>10</th><td>87752352<td>6347782194286<td>6614878861143</TR><tr align=right><th bgcolor=lightgreen align=center>11</th><td>2247987605<td>12139568762399<td>36878438722065</TR><tr align=right><th bgcolor=lightgreen align=center>12</th><td>32183551352<td>4159327027119583<td>500316181326089640</TR><tr align=right><th bgcolor=lightgreen align=center>13</th><td>622344644563<td>129785024254373690<td>8297069251057289337</TR><tr align=right><th bgcolor=lightgreen align=center>14</th><td>721258992031<td>58866692131428799<td>6347210584170775952</TR><tr align=right><th bgcolor=lightgreen align=center>15</th><td>56497436627651<td>28110275546239432420<td>2484311052067594484723</TR></TABLE></center><P><p><CENTER><H2>Cubes</H2></CENTER><center><TABLE BORDER bgcolor="FFFFCF" cellpadding=2><TR  bgcolor=lightgreen><th>size<th>C( )<th>C<sup>*</sup>( )<th>C<sub>x</sub>( )<th>C<sub>x</sub><sup>*</sup>( )</TR><tr align=right><th bgcolor=lightgreen align=center>2&times;2</th><td>3<td>4<td>3<td>-</TR><tr align=right><th bgcolor=lightgreen align=center>2&times;2&times;2</th><td>6<td>-<td>3<td>-</TR><tr align=right><th bgcolor=lightgreen align=center>2&times;2&times;2&times;2</th><td>9<td>-<td>3<td>-</TR><tr align=right><th bgcolor=lightgreen align=center>2&times;2&times;2&times;2&times;2</th><td>33<td>-<td>3<td>-</TR><tr align=right><th bgcolor=lightgreen align=center>2&times;2&times;2&times;2&times;2&times;2</th><td>27<td>-<td>3<td>-</TR><tr align=right><th bgcolor=lightgreen align=center>3&times;3</th><td>5<td>30<td>7<td>615</TR><tr align=right><th bgcolor=lightgreen align=center>3&times;3&times;3</th><td>17<td>-<td>119<td>-</TR><tr align=right><th bgcolor=lightgreen align=center>3&times;3&times;3&times;3</th><td>53<td>-<td>15691<td>-</TR><tr align=right><th bgcolor=lightgreen align=center>4&times;4</th><td>11<td>62<td>115<td>5754</TR><tr align=right><th bgcolor=lightgreen align=center>4&times;4&times;4</th><td>661<td>25569<td>3976182887<td>36786773864239435495</TR><tr align=right><th bgcolor=lightgreen align=center>5&times;5</th><td>37<td>615<td>261<td>2132027</TR><tr align=right><th bgcolor=lightgreen align=center>5&times;5&times;5</th><td>25009<td>10572852329<td>&#160;<td>&#160;</TR><tr align=right><th bgcolor=lightgreen align=center>6&times;6</th><td>143<td>6085<td>52593<td>34135139</TR><tr align=right><th bgcolor=lightgreen align=center>7&times;7</th><td>3853<td>206991<td>50906913<td>11752974558260469</TR><tr align=right><th bgcolor=lightgreen align=center>8&times;8</th><td>471247<td>199490791<td>970213363<td>103551920949676</TR></TABLE></center><P><HR><p>If you can extend any of these results, please <a href="mailto:erichfriedman68@gmail.com">e-mail</a> me.  Click <a href="https://erich-friedman.github.io/mathmagic/">here</a> to go back to Math Magic.  <font size=-1>Last updated 3/7/99.<font>
</BODY></HTML>