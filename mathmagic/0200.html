<!doctype html public "-//IETF//DTD HTML//EN"><HTML><HEAD><TITLE>Math Magic</TITLE></HEAD><BODY background="formulas.gif"><CENTER><H1> Problem of the Month (February 2000)</H1></CENTER><font size=+1>For integer n, let <b>f(n)</b> be the concatenation of the sums of every pair of consecutive digits of n.  For example, f(82671)=108138, since 8+2=10, 2+6=8, 6+7=13, and 7+1=8.  If n is a single digit, define f(n)=0.<p><h3>Question #1:</h3> What is the range of f?  That is, which integers n have a k so that f(k)=n?<p><h3>Question #2:</h3> What are the periodic points of the iteration of f?  That is, if f<sup>1</sup>(n)=f(n) and f<sup>k+1</sup>(n)=f(f<sup>k</sup>(n)), which integers n have a k so that f<sup>k</sup>(n)=n?<p><h3>Question #3:</h3> Which integers n have a k so that f<sup>k</sup>(n)=0?  There is no largest such number, as 10<sup>n</sup>+1 shows.  What is the largest such number consisting of 3 non-zero digits?  What is the largest such number consisting of no zeroes?<p><h3>Question #4:</h3> What are the answers to these questions if we sum 3 or more consecutive digits?<p><h3>Question #5:</h3> What are the answers to these questions in other bases?<p><h3>Question #6:</h3> What else can you tell me about this function?<p>
<P><hr><p><center><h1>ANSWERS</h1></center>

<h2>Question #1:</h2>Berend Jan van der Zwaag found that 110 is the smallest number not in the range of f.  He says that the 3 digit numbers not in the range of f are those where the middle digit is at least as big as the sum of the other two.<p>Trevor Green claimed that:<p><b>Theorem:</b> If Y is not in the range of f, and X does not end in 1, then XY is not in the range of f.<p><b>Theorem:</b> If X is not in the range of f, and does not end in 1, then XY is not in the range of f.<p>and wondered whether:<p><b>Conjecture:</b> If X is not in the range of f, then X has a substring of length 3 that is not in the range of f.<p>

David Wilson noted that a finite state machine can be constructed which accepts the string representations of the elements in the range of f, or in the complement of the range of f, and that this still holds true in any base, and if any number of consecutive digits are added.<p>

<HR>
<h2>Question #2:</h2>Joseph DeVincentis, Trevor Green, Brendan Owen, and Berend Jan van der Zwaag found the following periodic cycles: <p><pre>99(a+1) &rarr; 181a &rarr; 99(a+1) [where 0&le;a&le;8]<br>3333(a+1) &rarr; 666(a+4) &rarr; 12121a &rarr; 3333(a+1) [where 0&le;a&le;5]</pre><p>Philippe Fondanaiche found some of these.  Berend Jan van der Zwaag found that 733 numbers end in the first cycle and 222 numbers end in the second cycle.<p>Trevor Green conjectured that these are the only periodic points in base 10.  He also made the observation that every periodic cycle includes a number that starts with 1.<p>

<HR>
<h2>Question #3:</h2>Joseph DeVincentis,  Trevor Green, and Berend Jan van der Zwaag found that the smallest number that diverges to &infin; when f is iterated is 1496.<p>Joseph DeVincentis and Berend Jan van der Zwaag gave the largest number containing no zeroes that converges to 0 (831112), and Berend Jan van der Zwaag gave the largest number that does not contain 2 consecutive zeroes which conveges to 0 (8010120). Joseph DeVincentis gave a short proof that every number smaller than 991 converges to 0.<p>Trevor Green conjectured that there are only finitely many numbers in any base that go to 0 besides the numbers a0...0b, which he calls <i>bodiless</i> numbers.  Berend Jan van der Zwaag confirmed this, and gave the complete list. Trevor Green gives the following list:<p><p><CENTER><H2>Largest Non-Bodiless Numbers Converging to Zero in Base b</H2></CENTER><center><TABLE BORDER  bgcolor="FFFFCF"><tr align=center><th bgcolor=lightgreen>base<td>2<td>3<td>4<td>5<td>6<td>7<td>8<td>9<td>10<td>11<tr align=center><th bgcolor=lightgreen>n<td>10<sup>2</sup>+10<td>2&times;10<sup>5</sup>+10<td>3&times;10<sup>7</sup>+10<td>10<sup>10</sup>+10<td>2&times;10<sup>10</sup>+10<td>4&times;10<sup>12</sup>+10<td>7&times;10<sup>13</sup>+10<td>3&times;10<sup>15</sup>+10<td>9&times;10<sup>16</sup>+10<td>4&times;10<sup>18</sup>+10</tr></TABLE></center><P>Berend Jan van der Zwaag claims the largest number with 3 non-zero digits which converges to 0 is 11&times;10<sup>15</sup>+8.<p>Brendan Owen and Berend Jan van der Zwaag gave a list of the smallest n for which f<sup>k</sup>(n)=0:<p><p><CENTER><H2>Smallest Numbers Requiring k Iterations to Reach Zero</H2></CENTER><center><TABLE BORDER  bgcolor="FFFFCF"><tr align=center><th bgcolor=lightgreen>k<td>0<td>1<td>2<td>3<td>4<td>5<td>6<td>7<td>8<td>9<td>10<td>11<td>12<td>13<td>14<td>15<td>16<td>17<td>18<td>19<td>20<td>21<td>22<td>23<td>24<td>25</tr><tr align=center><th bgcolor=lightgreen>n<td>0<td>1<td>10<td>19<td>109<td>149<td>197<td>399<td>694<td>796<td>893<td>897<td>1167<td>1579<td>1596<td>1667<td>1790<td>1777<td>2859<td>1779<td>1778<td>1873<td>3679<td>5926<td>11289<td>9539</tr></TABLE></center><P><center><TABLE BORDER  bgcolor="FFFFCF"><tr align=center><th bgcolor=lightgreen>k<td>26<td>27<td>28<td>29<td>30<td>31<td>32<td>33<td>34<td>35<td>36<td>37<td>38<td>39<td>40<td>&gt;40</tr><tr align=center><th bgcolor=lightgreen>n<td>13551<td>4589<td>5960<td>12066<td>12265<td>19119<td>10927<td>12379<td>11742<td>65220<td>34038<td>40390<td>1110025<td>10100023<td>91000021<td>1000...0009</tr></TABLE></center><P><HR>
<h2>Question #4:</h2>Joseph DeVincentis conjectured that if you add more than 2 consecutive digits, there will be no small periodic points.<p>

Berend Jan van der Zwaag confirmed this for some small cases.  When adding 3 consecutive digits, numbers smaller than 10889 converge to 0, 10889 converges to &infin;, and the smallest periodic cycle is 125610 &rarr; 813127 &rarr; 125610.  When adding 4 consecutive digits, numbers smaller than 1005952 converge to 0 except for the few fixed point mentioned below, 1005952 converges to &infin;, and the smallest fixed points are 18181a.  He also found some periodic points: 

<pre>8888888(a+8) &rarr; 323232323(a+2) &rarr; 1010101010101a &rarr; 2222222222(a+2) &rarr; 8888888(a+8)<br>
666666(a+4) &rarr; 2424242(a+2) &rarr; 121212121a &rarr; 666666(a+4).</pre><p>

<HR>
<h2>Question #5:</h2>Joseph DeVincentis and Trevor Green noted that if f<sup>k</sup>(n) contains the digits n in order (this includes periodic points and also numbers like 1111111), then f<sup>ck</sup>(n) will also, and therefore n doesn't converge to 0.  Trevor Green called these numbers <i>expansive</i>.<p>He used this observation to completely analyze the binary case.  He proved that 1000...0001, 1000...000, 11, 1, and 110 go to 0, 111, 1010, and 1100 end up in the 111 &rarr; 1010  &rarr; 111 loop, and every other number diverges!<p>Brendan Owen gave a list of periodic points in bases no more than 10.  In every base b, there are (b&ndash;1) 2-cycles of the form (b&ndash;1)(b&ndash;1)c &rarr; 1(b&ndash;2)1(c&ndash;1) &rarr; (b&ndash;1)(b&ndash;1)c, where 1&le;c&le;b&ndash;1.  These also appear to be the only 2-cycles.   Here is the list of the other known periodic points in other small bases:<p><p><CENTER><H2>Other Periodic Points in Various Bases</H2></CENTER><center><TABLE BORDER  bgcolor="FFFFCF"><tr align=center><th bgcolor=lightgreen>Base<th bgcolor=lightgreen>Larger Cycles</tr><tr align=center><td>4<td>(2222,101010,11111), (2223,101011,11112)</tr><tr align=center><td>5<td>(2331,10114,11210)</tr><tr align=center><td>7<td>(4443,111110,22221), (4444,111111,22222), (4445,111112,22223), (4446,111113,22224)</tr><tr align=center><td>8<td>(10101010,1111111,222222,44444), (10101011,1111112,222223,44445), (10101012,1111113,222224,44446), (10101013,1111114,222225,44447)</tr><tr align=center><td>9<td>(6627,113810,412101,53311,8642,15116), (6628,13811,412102,53312,8643,15117)</tr><tr align=center><td>10<td>(33331,6664,121210), (33332,6665,121211), (33333,6666,121212), (33334,6667,121213), (33335,6668,121214), (33336,6669,121215)</tr></TABLE></center><P>Trevor Green found that if a and n are given, the number consisting of 2n+1 digit a's has period n in base a(2<sup>n</sup>&ndash;1) + 1.  He points out that base 16 has 3 of these cycles, base 64 has 4, and base 316 has 5.  He asks whether all cycles which are not 2-cycles are of this form, but doubts the answer is yes.<p><HR>
<h2>Question #6:</h2>Berend Jan van der Zwaag has found that apparently all numbers fall into 3 categories: those that have f<sup>k</sup>(n)=0 for some k, those that have f<sup>k</sup>(n)=n for some k, and those for which f<sup>k</sup>(n) goes to &infin; and f<sup>c+k</sup>(n) starts with the same digits as f<sup>k</sup>(n) for some c and k.  He conjectures that there are precisely 23 different expanding periodic loops, starting from the numbers 3871, 7777, 9911, 9921, 9922, 9931, 9933, 9941, 9951, 9955, 9961, 9971, 9977, 9981, 9988, 9999, 66642, 66651, 66661, 66666, 66678, 66681, and 66691.<p>

In 2011, Lars Blomberg sent me this <a href="0200/PDSC.pdf">information</a> about this problem.<p><P><hr><p>If you can extend any of these results, please <a href="mailto:erich.friedman@stetson.edu">e-mail</a> me.  Click <a href="http://www.stetson.edu/~efriedma/mathmagic/">here</a> to go back to Math Magic.  <font size=-1>Last updated 8/27/11.<font></BODY></HTML>