<!doctype html public "-//IETF//DTD HTML//EN"><HTML><HEAD><TITLE>Math Magic</TITLE></HEAD><BODY background="formulas.gif"><font size=+1><CENTER><H1> Problem of the Month (November 2001)</H1></CENTER>Robbie the Robot comes out of his alcove, and walks straight as far as he can.   When he hits a wall, he turns right if possible, or left otherwise.  If he hits a dead end where no turns are possible, he shuts down.  For example, the the room below, if the robot starts at location 1, he walks around and eventually finds himself back to location 1.<p><center><img src="1101/(1).gif"></center><p>Is this the smallest room in which the robot returns to his starting place?  Can you find a room where the robot will walk forever?  If we restrict our attention to rooms where the robot eventually shuts down, this defines a permutation on the dead ends.  The example above corresponds to the permutation (1).  What are the smallest rooms that realize other small permutations?  Are there interesting variants if the robot is reprogrammed with other rules for turning?  For example, what if the robot is broken and can't turn left?  Are there any interesting variants with more than one robot?<P><hr><p><center><h1>ANSWERS</h1></center>Here is a list of the smallest rooms which give rise to small permutations:<p><center><table border=2 cellpadding=10 align=center><tr align=center><td>(1)<td><img src="1101/(1).gif"><td>Erich Friedman</tr><tr align=center><td>(12)<td><img src="1101/(12).gif"><td>Erich Friedman</tr><tr align=center><td>(1)(2)<td><img src="1101/(1)(2).gif"><td>George Sicherman</tr><tr align=center><td>(123)<td><img src="1101/(123).gif"><td>Erich Friedman</tr><tr align=center><td>(1)(23)<td><img src="1101/(1)(23).gif"><td>Trevor Green</tr><tr align=center><td>(1)(2)(3)<td><img src="1101/(1)(2)(3).gif"><td>George Sicherman</tr><tr align=center><td>(1234)<td><img src="1101/(1234).gif"><td>Erich Friedman</tr><tr align=center><td>(1)(234)<td><img src="1101/(1)(234).gif"><td>Trevor Green</tr><tr align=center><td>(12)(34)<td><img src="1101/(12)(34).gif"><td>Joseph DeVincentis</tr><tr align=center><td>(1)(2)(34)<td><img src="1101/(1)(2)(34).gif"><td>George Sicherman</tr><tr align=center><td>(1)(2)(3)(4)<td><img src="1101/(1)(2)(3)(4).gif"><td>George Sicherman</tr><tr align=center><td>(12345)<td><img src="1101/(12345).gif"><td>Joseph DeVincentis</tr><tr align=center><td>(12)(345)<td><img src="1101/(12)(345).gif"><td>George Sicherman</tr><tr align=center><td>(1)(23)(45)<td><img src="1101/(1)(23)(45).gif"><td>George Sicherman</tr><tr align=center><td>(123456)<td><img src="1101/(123456).gif"><td>Joseph DeVincentis</tr><tr align=center><td>(12)(3456)<td><img src="1101/(12)(3456).gif"><td>George Sicherman</tr><tr align=center><td>(12)(34)(56)<td><img src="1101/(12)(34)(56).gif"><td>George Sicherman</tr><tr align=center><td>(1234)(5678)<td><img src="1101/(1234)(5678).gif"><td>Joseph DeVincentis</tr></table></center><p>Everyone who responded gave examples of the robot walking forever.  John Hoffman showed that the longest finite distance the robot can walk in a room with n squares is smaller than 4n, since each square can only be walked twice vertically (once forward, once backward) and twice horizontally.  He gave examples of rooms that come very close to 4n, such as larger examples of the room below.<p><center><img src="1101/rule7.gif"></center><p>Claudio Baiocchi was the first to prove that every permutation can be realized by some room.<p>Trevor Green described a way to add the permutation (n+1  n+2) with 4 extra spaces.  Thus the permutation (12)(34)...(2n&ndash;1  2n) takes exactly 4n&ndash;3 spaces, since this is the smallest room that has n dead ends.<p>Trevor Green also described a way to add the permutation (n+1) onto a permutation with 8 extra spaces.  Therefore the permutation (1)(2)...(n) takes no more than 8n&ndash;3 spaces.  Can anyone do better?<p>Joseph DeVincentis described a way to make the permutation (123...2n) with 6n&ndash;4 spaces, and the permutation (123...2n&ndash;1) with 6n&ndash;5 spaces.  For combine several distinct cycles of length L<sub>1</sub>, L<sub>2</sub>, L<sub>3</sub>, . . . L<sub>n</sub>, he needs an additional 3(n&ndash;1) squares.<p>Joseph DeVincentis suggested the following alternative turning rules: "robot attempts to alternate turning right and left, starting with right, choosing the other way if not possible", and "robot tries to turn the same way it just turned, choosing the other way if not possible".  The smallest rooms that he's found that produce the permutation (1) for these rules are:<p><center><table><tr cellpadding=10><td><img src="1101/rule1.gif"><td><img src="1101/rule2.gif"></tr></table></center><p>Berend Jan van der Zwaag says the original robot rule can be abbreviated <a href="1101/SRL.html">"straight else right else left else stop"</a>.  He investigated in great detail the other rules <a href="1101/RLS.html">"right else left else straight else stop"</a> and <a href="1101/RSL.html">"right else straight else left else stop"</a> and even <a href="1101/RL.html">"right-else-left-else-stop"</a>.  Click on these links to see his results.<p>If the robot is broken and cannot turn left, then the smallest room representing (1) is evidently:<p><center><img src="1101/rule3.gif"></center><p>Claudio Baiocchi allowed "walls" between room segments that would cause the robot to turn.  If these are allowed, he says the smallest room representing (1)(2) is the first room below, and the smallest room representing (1) for the broken robot is the second room below:<p><center><table><tr cellpadding=10><td><img src="1101/rule5.gif"><td><img src="1101/rule4.gif"></tr></table></center><p>John Hoffman points out that a room doesn't necessarily represent a permutation.  Several dead ends can lead to one.  Here's an example.<p><center><img src="1101/rule6.gif"></center><p>Instead, one should represent rooms with directed graphs with dead ends and infinite cycles being the vertices and one directed edge out of each vertex indicating which dead ends lead where.  He conjectures that all such functional directed graphs can be represented by robot rooms.<p><HR><p>If you can extend any of these results, please <a href="mailto:erichfriedman68@gmail.com">e-mail</a> me.  Click <a href="https://erich-friedman.github.io/mathmagic/">here</a> to go back to Math Magic.  <font size=-1>Last updated 9/6/12.<font></BODY></HTML>